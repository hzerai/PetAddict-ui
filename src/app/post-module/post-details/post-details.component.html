<section class="body-font mb-20">
    <div class="container px-5 mx-auto flex flex-wrap">
        <div class="mx-10 pb-10">
            <div class="mx-24 px-24 pb-24 pt-12">
                <div class="object-cover object-center mx-auto">
                    <img class="rounded-lg shadow" [src]="image?.bytes">
                </div>
            </div>
            <div class="w-2/3 mx-auto">
                <div class="w-full">
                    <h1 class="text-gray-900 text-4xl mb-3 leading-none">{{post?.title}}</h1>
                </div>
                <div class="flex mt-3 items-center  border-b-2 border-gray-100 mb-2 leading-relaxed text-xs font-medium title-font">
                    <span class="mr-3">Publié le : {{post?.createdAt | date:'dd/MM/yyyy'}} par :<a class="cursor-pointer"
                        [routerLink]="['/visit_user_profile']" [queryParams]="{id: post?.createdBy}">
                        {{post?.userFullName}}</a>
                </span>
                </div>
                <div class="mx-auto" [innerHtml]="htmlData">
                </div>
            </div>
            <div class='flex items-center justify-center  md:gap-8 gap-4 pt-5 pb-5'>
                <button *ngIf="isOwner()" routerLink="edit" class="bg-gray-200 rounded-lg shadow py-2 px-2 text-black hover:text-black">Modifier</button>
                <button *ngIf="isOwner()" (click)="delete(post?.id)" class="bg-gray-200 rounded-lg shadow py-2 px-2 text-black hover:text-black">Supprimer</button>
            </div>
            <br>
            <hr>
            <div class="mx-auto w-1/2 mt-5 border border-gray-100">
                <div class="flex my-3 mb-3">
                    <div class="flex-shrink-0 my-auto h-8">
                        <img [src]="currentUserImage" class="rounded-full w-8 h-8" />
                    </div>
                    <input type="text" [(ngModel)]="commentBody" class="flex-1 focus:outline-none focus:bg-white text-xs bg-gray-100 p-2 shadow-inner h-16 rounded-lg mx-2" placeholder="Ajouter un commentaire...">
                    <button (click)="comment()" class="my-auto bg-blue-500 rounded-lg shadow p-1  text-black hover:text-white w-20 text-xs h-8">Répondre</button>
                </div>
                <app-comment *ngFor="let comment of post?.comments" [comment]="comment" [currentUserFullName]="currentUserFullName" [currentUserImage]="currentUserImage" [currentUser]="currentUser" class=" bg-white rounded-lg  hover:bg-gray-200 hover:border-blue-900 mx-auto">
                </app-comment>
            </div>
        </div>
    </div>
</section>